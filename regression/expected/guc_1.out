CREATE EXTENSION pg_stat_monitor;
SELECT pg_stat_monitor_reset();
 pg_stat_monitor_reset 
-----------------------
 
(1 row)

select pg_sleep(.5);
 pg_sleep 
----------
 
(1 row)

SELECT * FROM pg_stat_monitor_settings ORDER BY name COLLATE "C";
                   name                   | setting | unit |      category      |                                                short_desc                                                | extra_desc |  context   | vartype | source  | min_val |  max_val   |    enumvals    | boot_val | reset_val | sourcefile | sourceline | pending_restart 
------------------------------------------+---------+------+--------------------+----------------------------------------------------------------------------------------------------------+------------+------------+---------+---------+---------+------------+----------------+----------+-----------+------------+------------+-----------------
 pg_stat_monitor.pgsm_bucket_time         | 60      |      | Customized Options | Sets the time in seconds per bucket.                                                                     |            | postmaster | integer | default | 1       | 2147483647 |                | 60       | 60        |            |            | f
 pg_stat_monitor.pgsm_enable_query_plan   | off     |      | Customized Options | Enable/Disable query plan monitoring                                                                     |            | user       | bool    | default |         |            |                | off      | off       |            |            | f
 pg_stat_monitor.pgsm_extract_comments    | off     |      | Customized Options | Enable/Disable extracting comments from queries.                                                         |            | user       | bool    | default |         |            |                | off      | off       |            |            | f
 pg_stat_monitor.pgsm_histogram_buckets   | 10      |      | Customized Options | Sets the maximum number of histogram buckets                                                             |            | postmaster | integer | default | 2       | 50         |                | 10       | 10        |            |            | f
 pg_stat_monitor.pgsm_histogram_max       | 100000  |      | Customized Options | Sets the time in millisecond.                                                                            |            | postmaster | integer | default | 10      | 2147483647 |                | 100000   | 100000    |            |            | f
 pg_stat_monitor.pgsm_histogram_min       | 0       |      | Customized Options | Sets the time in millisecond.                                                                            |            | postmaster | integer | default | 0       | 2147483647 |                | 0        | 0         |            |            | f
 pg_stat_monitor.pgsm_max                 | 100     | MB   | Customized Options | Sets the maximum size of shared memory in (MB) used for statement's metadata tracked by pg_stat_monitor. |            | postmaster | integer | default | 1       | 1000       |                | 100      | 100       |            |            | f
 pg_stat_monitor.pgsm_max_buckets         | 10      |      | Customized Options | Sets the maximum number of buckets.                                                                      |            | postmaster | integer | default | 1       | 10         |                | 10       | 10        |            |            | f
 pg_stat_monitor.pgsm_normalized_query    | on      |      | Customized Options | Selects whether save query in normalized format.                                                         |            | user       | bool    | default |         |            |                | on       | on        |            |            | f
 pg_stat_monitor.pgsm_overflow_target     | 1       |      | Customized Options | Sets the overflow target for pg_stat_monitor                                                             |            | postmaster | integer | default | 0       | 1          |                | 1        | 1         |            |            | f
 pg_stat_monitor.pgsm_query_max_len       | 2048    |      | Customized Options | Sets the maximum length of query.                                                                        |            | postmaster | integer | default | 1024    | 2147483647 |                | 2048     | 2048      |            |            | f
 pg_stat_monitor.pgsm_query_shared_buffer | 20      | MB   | Customized Options | Sets the maximum size of shared memory in (MB) used for query tracked by pg_stat_monitor.                |            | postmaster | integer | default | 1       | 10000      |                | 20       | 20        |            |            | f
 pg_stat_monitor.pgsm_track               | top     |      | Customized Options | Selects which statements are tracked by pg_stat_monitor.                                                 |            | user       | enum    | default |         |            | {none,top,all} | top      | top       |            |            | f
 pg_stat_monitor.pgsm_track_utility       | on      |      | Customized Options | Selects whether utility commands are tracked.                                                            |            | user       | bool    | default |         |            |                | on       | on        |            |            | f
(14 rows)

SELECT pg_stat_monitor_reset();
 pg_stat_monitor_reset 
-----------------------
 
(1 row)

DROP EXTENSION pg_stat_monitor;
